import {
  require_react
} from "./chunk-7SNDHR3H.js";
import {
  __commonJS,
  __esm,
  __export,
  __reExport,
  __toCommonJS
} from "./chunk-256EKJAK.js";

// vite:dep-pre-bundle:external-conversion:/Users/taamzid/Projects/scopioe/massage-app/massage-app-frontend/node_modules/react-facebook-login-lite/dist/public/facebook.png
var facebook_exports = {};
__export(facebook_exports, {
  default: () => default2
});
import { default as default2 } from "/Users/taamzid/Projects/scopioe/massage-app/massage-app-frontend/node_modules/react-facebook-login-lite/dist/public/facebook.png";
import * as facebook_star from "/Users/taamzid/Projects/scopioe/massage-app/massage-app-frontend/node_modules/react-facebook-login-lite/dist/public/facebook.png";
var init_facebook = __esm({
  "vite:dep-pre-bundle:external-conversion:/Users/taamzid/Projects/scopioe/massage-app/massage-app-frontend/node_modules/react-facebook-login-lite/dist/public/facebook.png"() {
    __reExport(facebook_exports, facebook_star);
  }
});

// vite:dep-pre-bundle:external-conversion:/Users/taamzid/Projects/scopioe/massage-app/massage-app-frontend/node_modules/react-facebook-login-lite/dist/public/styles.css
var styles_exports = {};
import "/Users/taamzid/Projects/scopioe/massage-app/massage-app-frontend/node_modules/react-facebook-login-lite/dist/public/styles.css";
var init_styles = __esm({
  "vite:dep-pre-bundle:external-conversion:/Users/taamzid/Projects/scopioe/massage-app/massage-app-frontend/node_modules/react-facebook-login-lite/dist/public/styles.css"() {
  }
});

// node_modules/react-facebook-login-lite/dist/index.js
var require_dist = __commonJS({
  "node_modules/react-facebook-login-lite/dist/index.js"(exports) {
    var __assign = exports && exports.__assign || function() {
      __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
          s = arguments[i];
          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
        }
        return t;
      };
      return __assign.apply(this, arguments);
    };
    var __createBinding = exports && exports.__createBinding || (Object.create ? function(o, m, k, k2) {
      if (k2 === void 0) k2 = k;
      Object.defineProperty(o, k2, { enumerable: true, get: function() {
        return m[k];
      } });
    } : function(o, m, k, k2) {
      if (k2 === void 0) k2 = k;
      o[k2] = m[k];
    });
    var __setModuleDefault = exports && exports.__setModuleDefault || (Object.create ? function(o, v) {
      Object.defineProperty(o, "default", { enumerable: true, value: v });
    } : function(o, v) {
      o["default"] = v;
    });
    var __importStar = exports && exports.__importStar || function(mod) {
      if (mod && mod.__esModule) return mod;
      var result = {};
      if (mod != null) {
        for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
      }
      __setModuleDefault(result, mod);
      return result;
    };
    var __importDefault = exports && exports.__importDefault || function(mod) {
      return mod && mod.__esModule ? mod : { "default": mod };
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.FacebookLogin = void 0;
    var react_1 = __importStar(require_react());
    var facebook_png_1 = __importDefault((init_facebook(), __toCommonJS(facebook_exports)));
    init_styles();
    var FacebookLogin = function(_a) {
      var language = _a.language, appId = _a.appId, version = _a.version, scope = _a.scope, fields = _a.fields, height = _a.height, theme = _a.theme, imgSrc = _a.imgSrc, btnText = _a.btnText, onSuccess = _a.onSuccess, onFailure = _a.onFailure, isSignedIn = _a.isSignedIn;
      var _b = react_1.useState(), fbWindow = _b[0], setFBWindow = _b[1];
      react_1.useEffect(function() {
        var script = document.createElement("script");
        script.src = "https://connect.facebook.net/" + language + "/sdk.js";
        script.async = true;
        script.defer = true;
        script.crossOrigin = "anonymous";
        script.addEventListener("load", function() {
          var FB = window.FB;
          FB.init({
            appId,
            cookie: true,
            xfbml: true,
            version
          });
          setFBWindow(window);
        });
        document.body.appendChild(script);
        return function() {
          document.body.removeChild(script);
        };
      }, [language, appId, version]);
      var statusChangeCallback = function(response) {
        if (response.status === "connected") {
          fetchDataFacebook(response);
        } else if (response.status === "not_authorized") {
          onFailure("Import error, Authorize app to import data, error");
        } else {
          onFailure("Import error, Error occured while importing data, error");
        }
      };
      var facebookLogin = function() {
        fbWindow.FB.login(function(response) {
          statusChangeCallback(response);
        }, { scope });
      };
      var fetchDataFacebook = function(response) {
        fbWindow.FB.api("/me", { fields: fields.split(", ") }, function(user) {
          onSuccess(__assign({ user }, response));
        });
      };
      react_1.useEffect(function() {
        if (!isSignedIn || !fbWindow)
          return;
        fbWindow.FB.getLoginStatus(function(response) {
          return statusChangeCallback(response);
        });
      }, [isSignedIn, fbWindow]);
      return react_1.default.createElement(
        "div",
        { id: "fb-login", style: { height }, onClick: facebookLogin, className: theme === "dark" ? "dark" : "light" },
        react_1.default.createElement("img", { src: imgSrc, title: "facebook login", alt: "facebook", style: { objectFit: "cover" } }),
        react_1.default.createElement("span", null, btnText)
      );
    };
    exports.FacebookLogin = FacebookLogin;
    exports.FacebookLogin.defaultProps = {
      language: "en_US",
      version: "v10.0",
      scope: "public_profile,email",
      fields: "id,email,first_name,last_name,middle_name,name,picture,short_name",
      height: "50px",
      theme: "light",
      imgSrc: facebook_png_1.default,
      btnText: "Sign in with Facebook",
      onSuccess: function(response) {
        console.log(response);
      },
      onFailure: function(error) {
        console.log(error);
      },
      isSignedIn: false
    };
    exports.default = exports.FacebookLogin;
  }
});
export default require_dist();
//# sourceMappingURL=react-facebook-login-lite.js.map
